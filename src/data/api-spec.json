{
  "POST_/api/v1/menu/select": {
    "description": "메뉴 선택 API",
    "restfulMethod": "POST",
    "restfulUrl": "/api/v1/menu/select",
    "requestHeader": [
      {
        "Name": "Authorization",
        "Required": "Y",
        "Description": "Bearer {ACCESS_TOKEN} (필수)"
      },
      {
        "Name": "Content-Type",
        "Required": "N",
        "Description": "application/json (POST 본문 있을 때 자동 설정)"
      }
    ],
    "requestBody": [
      {
        "Parameter": "menuId",
        "Type": "string",
        "Required": "Y",
        "Description": "메뉴 ID"
      },
      {
        "Parameter": "quantity",
        "Type": "integer",
        "Required": "Y",
        "Min": 1,
        "Max": 99,
        "Description": "주문 수량"
      },
      {
        "Parameter": "shopId",
        "Type": "string",
        "Required": "Y",
        "Description": "가게 ID"
      },
      {
        "Parameter": "memberNo",
        "Type": "string",
        "Required": "Y",
        "Description": "회원번호"
      }
    ],
    "requestBodyExample": {
      "menuId": "menu_001",
      "quantity": 2,
      "shopId": "shop_001",
      "memberNo": "member_123"
    },
    "responses": {
      "200": {
        "description": "메뉴 예약 성공",
        "example": {
          "status": "SUCCESS",
          "message": "메뉴 예약이 완료되었습니다",
          "timestamp": "2025-08-07T12:30:00.123Z",
          "data": {
            "reservationId": "RSV_A7K9M2X8",
            "reservationExpiresAt": "2025-08-07T12:35:00.123Z",
            "menuId": "menu_001",
            "quantity": 2
          }
        }
      },
      "400": {
        "description": "잘못된 요청",
        "errorCode": "INVALID_REQUEST",
        "example": {
          "status": "ERROR",
          "message": "요청 정보가 올바르지 않습니다",
          "errorCode": "INVALID_REQUEST",
          "timestamp": "2025-08-07T12:30:00.123Z"
        }
      },
      "401": {
        "description": "인증 실패",
        "errorCode": "UNAUTHORIZED",
        "example": {
          "status": "ERROR",
          "message": "인증이 필요합니다",
          "errorCode": "UNAUTHORIZED",
          "timestamp": "2025-08-07T12:30:00.123Z"
        }
      },
      "403": {
        "description": "권한 부족",
        "errorCode": "FORBIDDEN",
        "example": {
          "status": "ERROR",
          "message": "접근 권한이 없습니다",
          "errorCode": "FORBIDDEN",
          "timestamp": "2025-08-07T12:30:00.123Z"
        }
      },
      "404": {
        "description": "존재하지 않는 메뉴",
        "errorCode": "MENU_NOT_FOUND",
        "example": {
          "status": "ERROR",
          "message": "존재하지 않는 메뉴입니다",
          "errorCode": "MENU_NOT_FOUND",
          "timestamp": "2025-08-07T12:30:00.123Z"
        }
      },
      "409": {
        "description": "재료 부족 또는 멱등 충돌",
        "errorCodes": ["INSUFFICIENT_INGREDIENTS", "IDEMP_CONFLICT"],
        "example": {
          "status": "ERROR",
          "message": "주문하신 수량만큼 재료가 부족합니다",
          "errorCode": "INSUFFICIENT_INGREDIENTS",
          "timestamp": "2025-08-07T12:30:00.123Z"
        },
        "examples": {
          "INSUFFICIENT_INGREDIENTS": {
            "status": "ERROR",
            "message": "주문하신 수량만큼 재료가 부족합니다",
            "errorCode": "INSUFFICIENT_INGREDIENTS",
            "timestamp": "2025-08-07T12:30:00.123Z"
          },
          "IDEMP_CONFLICT": {
            "status": "ERROR",
            "message": "같은 Idempotency-Key로 다른 요청 본문이 전송되었습니다 (body mismatch)",
            "errorCode": "IDEMP_CONFLICT",
            "timestamp": "2025-08-07T12:30:02.000Z"
          }
        }
      },
      "429": {
        "description": "요청 한도 초과",
        "errorCode": "RATE_LIMIT_EXCEEDED",
        "example": {
          "status": "ERROR",
          "message": "요청 한도를 초과했습니다",
          "errorCode": "RATE_LIMIT_EXCEEDED",
          "timestamp": "2025-08-07T12:30:00.123Z"
        }
      }
    },
    "responseBody": [
      {
        "Path": "status",
        "Type": "string",
        "Description": "응답 상태 (SUCCESS/ERROR)"
      },
      {
        "Path": "message",
        "Type": "string",
        "Description": "응답 메시지"
      },
      {
        "Path": "timestamp",
        "Type": "string",
        "Format": "date-time",
        "Description": "응답 시간 (RFC3339)"
      },
      {
        "Path": "data.reservationId",
        "Type": "string",
        "Description": "메뉴 예약 ID"
      },
      {
        "Path": "data.reservationExpiresAt",
        "Type": "string",
        "Format": "date-time",
        "Description": "예약 만료 시간 (RFC3339, timestamp로부터 5분 유효)"
      },
      {
        "Path": "data.menuId",
        "Type": "string",
        "Description": "메뉴 ID"
      },
      {
        "Path": "data.quantity",
        "Type": "integer",
        "Description": "선택 수량"
      }
    ],
    "errorCodes": [
      {
        "ErrorCode": "INVALID_REQUEST",
        "HttpStatus": 400,
        "Description": "잘못된 요청"
      },
      {
        "ErrorCode": "UNAUTHORIZED",
        "HttpStatus": 401,
        "Description": "인증 실패"
      },
      {
        "ErrorCode": "FORBIDDEN",
        "HttpStatus": 403,
        "Description": "권한 부족"
      },
      {
        "ErrorCode": "MENU_NOT_FOUND",
        "HttpStatus": 404,
        "Description": "존재하지 않는 메뉴"
      },
      {
        "ErrorCode": "INSUFFICIENT_INGREDIENTS",
        "HttpStatus": 409,
        "Description": "재료 부족"
      },
      {
        "ErrorCode": "IDEMP_CONFLICT",
        "HttpStatus": 409,
        "Description": "Idempotency-Key 충돌 (동일 키 + 다른 바디)"
      },
      {
        "ErrorCode": "RATE_LIMIT_EXCEEDED",
        "HttpStatus": 429,
        "Description": "요청 한도 초과"
      }
    ]
  },
  "POST_/api/v1/order/create": {
    "description": "주문 생성 API",
    "restfulMethod": "POST",
    "restfulUrl": "/api/v1/order/create",
    "requestHeader": [
      {
        "Name": "Authorization",
        "Required": "Y",
        "Description": "Bearer {ACCESS_TOKEN} (필수)"
      },
      {
        "Name": "Content-Type",
        "Required": "N",
        "Description": "application/json (POST 본문 있을 때 자동 설정)"
      }
    ],
    "requestBody": [
      {
        "Parameter": "reservationId",
        "Type": "string",
        "Required": "Y",
        "Description": "메뉴선택에서 받은 예약 ID"
      },
      {
        "Parameter": "memberNo",
        "Type": "string",
        "Required": "Y",
        "Description": "회원번호"
      }
    ],
    "requestBodyExample": {
      "reservationId": "RSV_A7K9M2X8",
      "memberNo": "member_123"
    },
    "responses": {
      "200": {
        "description": "주문 생성 성공",
        "example": {
          "status": "SUCCESS",
          "message": "주문이 성공적으로 생성되었습니다",
          "timestamp": "2025-08-07T12:30:00.123Z",
          "data": {
            "orderNo": "R7X9K2M8",
            "orderStatus": "INITIALIZING",
            "reservationId": "RSV_A7K9M2X8",
            "createdAt": "2025-08-07T12:30:00.123Z",
            "memberInfo": {
              "memberNo": "member_123"
            }
          }
        }
      },
      "400": {
        "description": "잘못된 요청",
        "errorCode": "INVALID_REQUEST",
        "example": {
          "status": "ERROR",
          "message": "요청 정보가 올바르지 않습니다",
          "errorCode": "INVALID_REQUEST",
          "timestamp": "2025-08-07T12:30:00.123Z"
        }
      },
      "404": {
        "description": "유효하지 않은 예약",
        "errorCode": "INVALID_RESERVATION",
        "example": {
          "status": "ERROR",
          "message": "유효하지 않은 예약입니다",
          "errorCode": "INVALID_RESERVATION",
          "timestamp": "2025-08-07T12:40:00.123Z"
        }
      },
      "409": {
        "description": "예약 후 재료 소진 또는 중복 주문 또는 멱등 충돌",
        "errorCodes": [
          "INGREDIENTS_EXHAUSTED",
          "DUPLICATE_ORDER",
          "IDEMP_CONFLICT"
        ],
        "example": {
          "status": "ERROR",
          "message": "예약 후 재료가 소진되었습니다",
          "errorCode": "INGREDIENTS_EXHAUSTED",
          "timestamp": "2025-08-07T12:35:00.123Z"
        },
        "examples": {
          "INGREDIENTS_EXHAUSTED": {
            "status": "ERROR",
            "message": "예약 후 재료가 소진되었습니다",
            "errorCode": "INGREDIENTS_EXHAUSTED",
            "timestamp": "2025-08-07T12:35:00.123Z"
          },
          "DUPLICATE_ORDER": {
            "status": "ERROR",
            "message": "동일 예약 ID로 중복 주문이 감지되었습니다",
            "errorCode": "DUPLICATE_ORDER",
            "timestamp": "2025-08-07T12:36:00.123Z"
          },
          "IDEMP_CONFLICT": {
            "status": "ERROR",
            "message": "같은 Idempotency-Key로 다른 요청 본문이 전송되었습니다",
            "errorCode": "IDEMP_CONFLICT",
            "timestamp": "2025-08-07T12:37:00.123Z"
          }
        }
      },
      "422": {
        "description": "예약 만료 (5분 초과)",
        "errorCode": "RESERVATION_EXPIRED",
        "example": {
          "status": "ERROR",
          "message": "예약 후 5분을 초과하여 예약이 만료되었습니다.",
          "errorCode": "RESERVATION_EXPIRED",
          "timestamp": "2025-08-07T12:40:00.123Z"
        }
      },
      "429": {
        "description": "요청 한도 초과",
        "errorCode": "RATE_LIMIT_EXCEEDED",
        "example": {
          "status": "ERROR",
          "message": "요청 한도를 초과했습니다",
          "errorCode": "RATE_LIMIT_EXCEEDED",
          "timestamp": "2025-08-07T12:30:00.123Z"
        }
      }
    },
    "responseBody": [
      {
        "Path": "status",
        "Type": "string",
        "Description": "응답 상태 (SUCCESS/ERROR)"
      },
      {
        "Path": "message",
        "Type": "string",
        "Description": "응답 메시지"
      },
      {
        "Path": "timestamp",
        "Type": "string",
        "Format": "date-time",
        "Description": "응답 시간 (RFC3339)"
      },
      {
        "Path": "data.orderNo",
        "Type": "string",
        "Description": "주문 번호 (8자리 영숫자)"
      },
      {
        "Path": "data.orderStatus",
        "Type": "string",
        "Description": "주문 상태 (INITIALIZING)"
      },
      {
        "Path": "data.reservationId",
        "Type": "string",
        "Description": "사용된 예약 ID"
      },
      {
        "Path": "data.createdAt",
        "Type": "string",
        "Format": "date-time",
        "Description": "주문 생성 시간 (RFC3339)"
      },
      {
        "Path": "data.memberInfo.memberNo",
        "Type": "string",
        "Description": "회원번호"
      }
    ],
    "errorCodes": [
      {
        "ErrorCode": "INVALID_REQUEST",
        "HttpStatus": 400,
        "Description": "잘못된 요청"
      },
      {
        "ErrorCode": "INVALID_RESERVATION",
        "HttpStatus": 404,
        "Description": "유효하지 않은 예약"
      },
      {
        "ErrorCode": "INGREDIENTS_EXHAUSTED",
        "HttpStatus": 409,
        "Description": "예약 후 재료 소진"
      },
      {
        "ErrorCode": "DUPLICATE_ORDER",
        "HttpStatus": 409,
        "Description": "중복 주문"
      },
      {
        "ErrorCode": "IDEMP_CONFLICT",
        "HttpStatus": 409,
        "Description": "Idempotency-Key 충돌 (동일 키 + 다른 바디)"
      },
      {
        "ErrorCode": "RESERVATION_EXPIRED",
        "HttpStatus": 422,
        "Description": "예약 만료 (5분 초과)"
      },
      {
        "ErrorCode": "RATE_LIMIT_EXCEEDED",
        "HttpStatus": 429,
        "Description": "요청 한도 초과"
      }
    ]
  }
}
